<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:c="http://java.sun.com/jsp/jstl/core">

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>#{bundle['backup.empleadoApp']}</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" />
    <style>
        .container {
            max-width: 1200px;
        }
        .card-img-top {
            height: 200px;
            object-fit: cover;
        }
        .card {
            margin: 10px;
        }
    </style>
</head>

<f:view contentType="text/html" locale="#{region.locale}">
    <body>
    <!-- Header -->
    <ui:include src="WEB-INF/templates/header.xhtml"></ui:include>

    <ui:param name="trabajo" value="#{bundle['backup.trabajo']}" />
    <ui:param name="noTrabajo" value="#{bundle['backup.noTrabajo']}" />

    <!-- Main Form Section with Margin -->
    <div class="container mt-5">
        <h:form>
            <div class="container">
                <div class="row">
                    <c:forEach items="#{operatorBean.trabajadores}" var="item">
                        <div class="col-md-2">
                            <div class="card">
                                <img src="img/employee1.png" class="card-img-top" alt="Image 1" />
                                <div class="card-body">
                                    <h5 class="card-title">#{item.nombres} #{item.apellidos}</h5>
                                    <h:commandButton styleClass="btn btn-#{item.worked ? 'danger' : 'primary'}"
                                                     value="#{item.worked ? noTrabajo : trabajo}"
                                                     action="#{item.makeWork}" />
                                </div>
                            </div>
                        </div>
                    </c:forEach>
                </div>
            </div>
            <script src="https://stackpath.bootstrapcdn.com/bootstrap/5.1.3/js/bootstrap.bundle.min.js"></script>
        </h:form>
    </div>

    <ui:include src="WEB-INF/templates/footer.xhtml"></ui:include>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/5.1.3/js/bootstrap.bundle.min.js"></script>
    </body>
</f:view>
</html>